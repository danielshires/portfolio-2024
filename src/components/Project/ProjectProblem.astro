---
import { PortableText } from 'astro-portabletext'

interface Props {
  problem: any // Portable Text content
}

const { problem } = Astro.props

// Custom components for Portable Text rendering
const components = {
  block: {
    normal: ({ children }: any) => `<p class="text-lg leading-relaxed text-zinc-700 dark:text-zinc-300 mb-4">${children}</p>`,
    h4: ({ children }: any) => `<h4 class="text-xl font-semibold text-zinc-900 dark:text-zinc-100 mb-3">${children}</h4>`,
  },
  marks: {
    strong: ({ children }: any) => `<strong class="font-semibold text-zinc-900 dark:text-zinc-100">${children}</strong>`,
    em: ({ children }: any) => `<em class="italic">${children}</em>`,
  },
}
---

<section class="space-y-6">
  <h2 class="text-2xl md:text-3xl font-bold text-zinc-900 dark:text-zinc-100">
    Problem
  </h2>
  
  <div class="prose prose-lg max-w-none">
    <div class="bg-red-50 dark:bg-red-900/10 border-l-4 border-red-500 p-6 rounded-r-lg">
      <div class="space-y-4">
        <PortableText value={problem} components={components} />
      </div>
    </div>
  </div>
</section>

<style>
  /* Custom prose styling to override defaults */
  .prose p {
    @apply text-lg leading-relaxed text-zinc-700 dark:text-zinc-300;
  }
  
  .prose h4 {
    @apply text-xl font-semibold text-zinc-900 dark:text-zinc-100 mb-3 mt-6;
  }
  
  .prose strong {
    @apply font-semibold text-zinc-900 dark:text-zinc-100;
  }
  
  .prose em {
    @apply italic;
  }
  
  /* Problem section specific styling */
  .prose p:last-child {
    @apply mb-0;
  }
</style>