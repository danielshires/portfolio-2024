---
import Layout from '../../layouts/Layout.astro'
import { getAllPosts } from '../../lib/sanity'
import PostCard from '../../components/Cards/PostCard.jsx'
import Text from '../../components/Text/Text'

const posts = await getAllPosts()
---

<Layout
  pageTitle='Blog'
  pageDescription='Thoughts and insights on design, development, and the digital world.'>
  <main class='min-h-screen pt-20 pb-16'>
    <!-- Header -->
    <section class='py-16 md:py-24'>
      <div class='container mx-auto'>
        <div class='text-center space-y-6'>
          <Text variant='h1' size='5xl' className='font-bold'>Blog</Text>
          <Text variant='body' size='lg' color='muted'>
            Thoughts and insights on design, development, and the digital world.
          </Text>
        </div>
      </div>
    </section>

    <!-- Posts Grid -->
    <section class='pb-16'>
      <div class='container mx-auto'>
        {
          posts.length > 0 ? (
            <div class='grid grid-cols-1 md:grid-cols-3 gap-8'>
              {posts.map((post) => (
                <PostCard post={post} />
              ))}
            </div>
          ) : (
            <div class='text-center py-16'>
              <Text variant='h3' className='mb-2'>
                No posts yet
              </Text>
              <Text variant='body' color='muted'>
                Check back soon for new content.
              </Text>
            </div>
          )
        }
      </div>
    </section>
  </main>
</Layout>
