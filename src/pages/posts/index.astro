---
import Layout from '../../layouts/Layout.astro'
import { getAllPosts } from '../../lib/sanity'
import type { Post } from '../../lib/sanity'
import TextBanner from '../../components/Text/TextBanner.astro'
import PostCard from '../../components/Cards/PostCard.astro'

const posts = await getAllPosts()
const [featuredPost, ...remainingPosts] = posts

// Front Matter
const frontMatter = {
  pageTitle: 'Thoughts',
  pageDescription: 'Ideas, reflections, and musings',
}
---

<Layout pageTitle='Blog Posts' pageDescription='My thoughts and musings'>
  <div class='flex flex-col'>
    <div class=''>
      <TextBanner pageTitle={frontMatter.pageTitle} pageDescription={frontMatter.pageDescription} />
    </div>

    <!-- Featured Post -->
    <!-- {
      featuredPost && (
        <div class='col-span-full grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 mb-8 gap-8'>

          <PostCard post={featuredPost} featured={true} />
        </div>
      )
    } -->

    <!-- Remaining Posts Grid -->
    <div class='flex flex-row gap-8 w-100'>
      {posts.map((post: Post) => <PostCard post={post} />)}
    </div>
  </div>
</Layout>
